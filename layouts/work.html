{{ define "main" }}
<div class="container">
  <header style="margin-bottom: 3rem">
    <h1 class="site-title">Work History</h1>
  </header>

  <!-- Timeline -->
  <div style="max-width: 600px; margin: 0 auto">
    {{ range $index, $job := site.Data.work }}
    <div
      style="display: flex; gap: 2rem; margin-bottom: 3rem; {{ if mod $index 2 }}flex-direction: row-reverse;{{ end }}"
    >
      <!-- Content -->
      <div
        style="flex: 1; {{ if mod $index 2 }}text-align: left;{{ else }}text-align: right;{{ end }}"
      >
        <h3
          style="
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--color-text);
            margin-bottom: 0.5rem;
          "
        >
          {{ .company }}
        </h3>
        <p
          style="
            font-size: 0.9375rem;
            color: var(--color-text-light);
            margin-bottom: 0.25rem;
          "
        >
          {{ .title }}
        </p>
        <p
          style="
            font-size: 0.875rem;
            color: var(--color-text-lighter);
            margin: 0;
          "
        >
          {{ .startDate }} - {{ .endDate }}
        </p>
      </div>

      <!-- Timeline connector -->
      <div
        style="
          position: relative;
          display: flex;
          flex-direction: column;
          align-items: center;
        "
      >
        <!-- Circle -->
        <div
          style="
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: var(--color-text);
            border: 3px solid var(--color-bg);
            z-index: 2;
            flex-shrink: 0;
          "
        ></div>

        <!-- Vertical line -->
        {{ if ne (add $index 1) (len site.Data.work) }}
        <div
          style="
            width: 2px;
            flex: 1;
            min-height: 3rem;
            background-color: var(--color-border);
            margin-top: -2px;
          "
        ></div>
        {{ end }}
      </div>

      <!-- Spacer for alternating layout -->
      <div style="flex: 1"></div>
    </div>
    {{ end }}
  </div>
</div>
{{ end }}
